<h1>Список наших самых лучших товаров</h1>

<show-modal
  [isVisible]="isModalVisible"
  (isModalClosed)="hideModal()"
  [selectedCard]="selectedCard"
  (isProductSelected)="addProduct($event)"
  (productCountChange)="getCount($event)"
  [productCount]="selectedCard ? getCount(selectedCard.id) : 0"
></show-modal>

<div class="product-card">
  @for(product of products; track product.id) {

  <div class="product-card__container">
    <h3 class="product-card__title" (click)="showModal(product)">{{ product.title }}</h3>
    <p class="product-card__description">{{ product.description }}</p>
    <p class="product-card__cost">{{ product.cost }}</p>
    <button class="product-card__sum-btn" (click)="addProduct(product)">
      {{ !getCount(product.id) ? 'Добавить в корзину' : getCount(product.id) + ' +' }}
    </button>
  </div>

  }
</div>
